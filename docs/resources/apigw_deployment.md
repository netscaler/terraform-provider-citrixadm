---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "citrixadm_apigw_deployment Resource - terraform-provider-citrixadm"
subcategory: ""
description: |-
  Configure API Proxy endpoint on API Gateway
---

# citrixadm_apigw_deployment (Resource)

Configure API Proxy endpoint on API Gateway

## Example Usage

```terraform
data "citrixadm_apigw_definition" "demo" {
  name = "new_definition"
}
data "citrixadm_managed_device" "device1" {
  ip_address = "10.10.10.10"
}
data "citrixadm_apigw_proxy" "demo_proxy" {
  name = "testing"
}
resource "citrixadm_apigw_deployment" "demo" {
  api_id = data.citrixadm_apigw_definition.demo.id
  apiproxy_ref {
    id = data.citrixadm_apigw_proxy.demo_proxy.id
  }
  name   = "tf_deployment"
  tags   = ["hello"]
  deploy = true
  target_apigw {
    id           = data.citrixadm_managed_device.device1.id
    display_name = data.citrixadm_managed_device.device1.ip_address
  }
  routes {
    name                 = "routing_name_0"
    route_param          = "/user/action"
    route_paramtype      = "resource_path"
    upstreamservice_name = "sdf"
  }
  routes {
    name                 = "route_name2_0"
    route_param          = "/user"
    route_paramtype      = "resource_path"
    upstreamservice_name = "sdf"
  }
  upstreamservices {
    backend_servers {
      ip4_addr = "2.2.2.2"
      port     = 80
    }
    name              = "sdf"
    scheme            = "http"
    service_fqdn      = "www.exam123.com"
    service_fqdn_port = 80
  }
  upstreamservices {
    backend_servers {
      ip4_addr = "2.2.2.2"
      port     = 80
    }
    name              = "sdf1"
    scheme            = "http"
    service_fqdn      = "www.example.com"
    service_fqdn_port = 80
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `api_id` (String) API Definition Id
- `apiproxy_ref` (Block List, Min: 1, Max: 1) API Proxy Reference (see [below for nested schema](#nestedblock--apiproxy_ref))
- `deploy` (Boolean) Flag to deply/undeploy the API Deployment Resource
- `name` (String) API Deployment Name
- `routes` (Block List, Min: 1) List of all API Routes (see [below for nested schema](#nestedblock--routes))
- `target_apigw` (Block List, Min: 1, Max: 1) Details of Target ADC instance acting as API Gateway (see [below for nested schema](#nestedblock--target_apigw))
- `upstreamservices` (Block List, Min: 1) List of all Upstream Service (see [below for nested schema](#nestedblock--upstreamservices))

### Optional

- `tags` (List of String) Tags

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--apiproxy_ref"></a>
### Nested Schema for `apiproxy_ref`

Required:

- `id` (String) API proxy ID


<a id="nestedblock--routes"></a>
### Nested Schema for `routes`

Required:

- `name` (String) Name for API Route
- `route_param` (String) API Resource Path in the API definition or user entered Path.
- `route_paramtype` (String) API Route Param type
- `upstreamservice_name` (String) Upstream Service Name where API traffic will be sent


<a id="nestedblock--target_apigw"></a>
### Nested Schema for `target_apigw`

Required:

- `display_name` (String) ADC Instance Name(IP-Address)
- `id` (String) ADC Instance Id


<a id="nestedblock--upstreamservices"></a>
### Nested Schema for `upstreamservices`

Required:

- `backend_servers` (Block List, Min: 1) List of all IPv4 or IPv6 host address and Port for Upstream Service. (see [below for nested schema](#nestedblock--upstreamservices--backend_servers))
- `name` (String) Upstream Service Name

Optional:

- `scheme` (String) Protocol used to exchange data with the service
- `service_fqdn` (String) Hostname of Upstream Service as FQDN where API traffic will be sent
- `service_fqdn_port` (Number) Optional Listening port for Service FQDN

<a id="nestedblock--upstreamservices--backend_servers"></a>
### Nested Schema for `upstreamservices.backend_servers`

Required:

- `ip4_addr` (String) IPv4 host address for the Upstream Server/Service where API traffic will be sent
- `port` (Number) Port number for Upstream Server/Service


